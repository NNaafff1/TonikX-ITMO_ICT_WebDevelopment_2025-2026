# Настройка фронтенда (обновлено)

1) Переменные окружения
Создайте файл `frontend/.env.local`:
```
VITE_API_URL=http://localhost:8000
```
Если бэкенд на другом порту — измените адрес.

2) Установка и запуск
```bash
cd frontend
npm install
npm run dev
```

3) Маршруты и страницы (кратко)
- `/` — домашняя
- `/owners` — список владельцев
- `/owners/:id` — детальная страница владельца (контакты, водительское, владения → ссылки на машины)
- `/owners/:id/edit` — создание/редактирование владельца (защищено)
- `/cars` — список машин
- `/cars/:id` — детальная страница машины (страховки, ТО, регистрации)
- `/vehicle-models` — список моделей/производителей
- `/login` — форма входа (JWT)

4) Аутентификация
- Форма входа отправляет POST на `/api/token/`. Токены сохраняются в localStorage (`access_token`, `refresh_token`).
- Axios автоматически добавляет `Authorization: Bearer <access>` к запросам и пытается выполнить refresh при 401.

5) Компоненты и стили
- Глобальные стили: `src/assets/styles.css` — уже подключены в `src/main.js`.
- Компоненты: LoadingSpinner, EmptyState, ConfirmModal, OwnershipForm и др.

6) Замечания
- Если API отдаёт пагинацию — компоненты ожидают `res.data.results` или `res.data` (подстраиваются).
- Для интеграционных тестов используйте backup branch или отдельную БД (см. how_to_run.md).